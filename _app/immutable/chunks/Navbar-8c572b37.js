import{a3 as et,C as Me,a4 as vt,a5 as _t,S as W,i as J,s as Q,e as y,k as B,t as K,c as x,a as k,m as F,h as X,d as h,b as d,g as j,L as _,R as L,j as Ce,E as M,V as $e,W as ge,I as bt,J as wt,K as kt,q as N,o as A,_ as z,$ as U,f as te,n as me,p as pe,a1 as tt,H as yt,T as Ae,w as P,x as H,y as R,B as q,N as ze,O as fe,U as st,l as de,a2 as ve,Q as Pe,P as ue,a6 as nt,a7 as rt,M as xt,X as Ee,v as It,Z as Et}from"./index-0489bdd4.js";import{w as ne}from"./index-621d9ca2.js";import{l as Ue,D as G,g as Te,V as re,w as Ve,U as je,Q as Dt,f as Le,p as ie,I as lt,u as it,y as De,a as Ct,b as Tt}from"./firebase-218fcd9a.js";function Vt(n){const e=n-1;return e*e*e+1}function Ts(n,{delay:e=0,duration:t=400,easing:s=et}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:l=>`opacity: ${l*r}`}}function he(n,{delay:e=0,duration:t=400,easing:s=Vt}={}){const r=getComputedStyle(n),l=+r.opacity,i=parseFloat(r.height),o=parseFloat(r.paddingTop),a=parseFloat(r.paddingBottom),c=parseFloat(r.marginTop),g=parseFloat(r.marginBottom),u=parseFloat(r.borderTopWidth),p=parseFloat(r.borderBottomWidth);return{delay:e,duration:t,easing:s,css:f=>`overflow: hidden;opacity: ${Math.min(f*20,1)*l};height: ${f*i}px;padding-top: ${f*o}px;padding-bottom: ${f*a}px;margin-top: ${f*c}px;margin-bottom: ${f*g}px;border-top-width: ${f*u}px;border-bottom-width: ${f*p}px;`}}const ce=ne("initial"),Be=ne(!1),Vs=ne(!1),He=ne("images/profile-images/user-default-logo.png"),js=ne(""),Ns=ne(!1),Ss=ne(!1);function Re(n){return Object.prototype.toString.call(n)==="[object Date]"}function Fe(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const s=e.map((r,l)=>Fe(n[l],r));return r=>s.map(l=>l(r))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(Re(n)&&Re(e)){n=n.getTime(),e=e.getTime();const l=e-n;return i=>new Date(n+i*l)}const s=Object.keys(e),r={};return s.forEach(l=>{r[l]=Fe(n[l],e[l])}),l=>{const i={};return s.forEach(o=>{i[o]=r[o](l)}),i}}if(t==="number"){const s=e-n;return r=>n+r*s}throw new Error(`Cannot interpolate ${t} values`)}function ot(n,e={}){const t=ne(n);let s,r=n;function l(i,o){if(n==null)return t.set(n=i),Promise.resolve();r=i;let a=s,c=!1,{delay:g=0,duration:u=400,easing:p=et,interpolate:f=Fe}=Me(Me({},e),o);if(u===0)return a&&(a.abort(),a=null),t.set(n=r),Promise.resolve();const b=vt()+g;let D;return s=_t(m=>{if(m<b)return!0;c||(D=f(n,i),typeof u=="function"&&(u=u(n,i)),c=!0),a&&(a.abort(),a=null);const v=m-b;return v>u?(t.set(n=i),!1):(t.set(n=D(p(v/u))),!0)}),s.promise}return{set:l,update:(i,o)=>l(i(r,n),o),subscribe:t.subscribe}}async function at(){return(await _e()).currentFolder}function Oe(){return re(Le,"users")}function oe(){return G(Oe(),Te().uid)}function se(){return re(Oe(),Te().uid,"folders")}async function ae(){return re(se(),await at(),"items")}async function jt(n){return re(se(),n,"items")}async function _e(){return(await Ue(G(Oe(),Te().uid))).data()}async function As(){return await at()==""?void 0:(await Ve(je(await ae()))).docs.map(t=>t.data()).sort((t,s)=>t.date?s.date?t.date>s.date?1:t.date<s.date?-1:0:-1:1)}async function Bs(n,e){ie(G(await ae(),n),{checked:e})}async function Nt(n,e=void 0){let t;e?t=re(se(),e,"items"):t=await ae();let s;return n.docId?s=G(t,n.docId):(s=G(t),n.docId=s.id),De(s,n,{merge:!0}),n.docId}async function St(){return(await Ve(je(se(),Dt("creationDate")))).docs.map(e=>e.data())}async function At(){const n=await St();let e=[];for(let t of n)if(t.docId){const r=(await Ve(je(await jt(t.docId)))).docs.map(l=>l.data());e=[...e,...r]}return e}async function ct(n){lt(G(await ae(),n))}async function Bt(n){return(await Ue(G(await ae(),n))).data()}async function Fs(n){if(!n.docId){n.creationDate=it.fromMillis(Date.now());const t=G(se());return n.docId=t.id,await De(t,n,{merge:!0}),n.docId}const e=G(se(),n.docId);return await De(e,n,{merge:!0}),n.docId}async function ut(n){const e=oe();n?await ie(e,{token:n}):await ie(e,{token:Ct()})}async function be(){re(Le,"users");const n=oe();return(await Ue(n)).data().token}async function $s(n){const e=G(re(Le,"users"),Te().uid);ie(e,{currentFolder:n})}async function zs(n){(await Ve(je(await ae()))).docs.forEach(t=>{ct(t.id)}),lt(G(se(),n)),ie(oe(),{currentFolder:""})}async function Us(n){const e=oe(),s=(await _e()).tags;s.push(n),await ie(e,{tags:s})}async function Ls(n){const e=oe();let s=(await _e()).tags;s=s.filter(r=>r.text!=n.text),await ie(e,{tags:s})}async function Os(n,e){const t=await Bt(n);!t.docId||(await ae(),re(se(),e,"items"),await ct(t.docId),t.docId=void 0,await Nt(t,e))}async function Ms(n){const e=oe();await De(e,{avatar:n},{merge:!0})}async function Ft(){return oe(),(await _e()).avatar}function $t(n){let e,t,s,r,l,i,o;return{c(){e=y("div"),t=y("input"),s=B(),r=y("label"),l=K(n[1]),this.h()},l(a){e=x(a,"DIV",{class:!0});var c=k(e);t=x(c,"INPUT",{id:!0,type:!0,class:!0}),s=F(c),r=x(c,"LABEL",{for:!0,class:!0});var g=k(r);l=X(g,n[1]),g.forEach(h),c.forEach(h),this.h()},h(){d(t,"id","checkbox"),d(t,"type","checkbox"),t.__value="",t.value=t.__value,d(t,"class","w-4 h-4 text-gray-600 bg-gray-100 rounded border-gray-300 hover:cursor-pointer focus:ring-red-500focus:ring-2"),d(r,"for","checkbox"),d(r,"class","ml-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:cursor-pointer"),d(e,"class","flex items-center sm:my-3 sm:mx-8 mx-auto my-4")},m(a,c){j(a,e,c),_(e,t),t.checked=n[0],_(e,s),_(e,r),_(r,l),i||(o=[L(t,"change",n[3]),L(t,"change",n[4])],i=!0)},p(a,[c]){c&1&&(t.checked=a[0]),c&2&&Ce(l,a[1])},i:M,o:M,d(a){a&&h(e),i=!1,$e(o)}}}function zt(n,e,t){let{text:s}=e,{checked:r=!1}=e,l=ge();function i(){r=this.checked,t(0,r)}const o=()=>l("checked",{checked:r});return n.$$set=a=>{"text"in a&&t(1,s=a.text),"checked"in a&&t(0,r=a.checked)},[r,s,l,i,o]}class Ut extends W{constructor(e){super(),J(this,e,zt,$t,Q,{text:1,checked:0})}}function qe(n){let e,t;const s=n[6].default,r=yt(s,n,n[5],null);return{c(){e=y("div"),r&&r.c(),this.h()},l(l){e=x(l,"DIV",{class:!0,role:!0,"aria-orientation":!0,"aria-labelledby":!0,tabindex:!0});var i=k(e);r&&r.l(i),i.forEach(h),this.h()},h(){d(e,"class","z-10 absolute left-0 mt-2 w-32 rounded-full shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"),d(e,"role","menu"),d(e,"aria-orientation","vertical"),d(e,"aria-labelledby","menu-button"),d(e,"tabindex","-1")},m(l,i){j(l,e,i),r&&r.m(e,null),t=!0},p(l,i){r&&r.p&&(!t||i&32)&&bt(r,s,l,l[5],t?kt(s,l[5],i,null):wt(l[5]),null)},i(l){t||(N(r,l),t=!0)},o(l){A(r,l),t=!1},d(l){l&&h(e),r&&r.d(l)}}}function Lt(n){let e,t,s,r,l,i,o,a,c,g,u,p=n[0]&&qe(n);return{c(){e=y("div"),t=y("div"),s=y("button"),r=K(n[1]),l=B(),i=z("svg"),o=z("path"),a=B(),p&&p.c(),this.h()},l(f){e=x(f,"DIV",{class:!0});var b=k(e);t=x(b,"DIV",{});var D=k(t);s=x(D,"BUTTON",{class:!0,id:!0,"aria-expanded":!0,"aria-haspopup":!0});var m=k(s);r=X(m,n[1]),l=F(m),i=U(m,"svg",{class:!0,style:!0,xmlns:!0,viewBox:!0,fill:!0,"aria-hidden":!0});var v=k(i);o=U(v,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),k(o).forEach(h),v.forEach(h),m.forEach(h),D.forEach(h),a=F(b),p&&p.l(b),b.forEach(h),this.h()},h(){d(o,"fill-rule","evenodd"),d(o,"d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"),d(o,"clip-rule","evenodd"),d(i,"class","-mr-1 ml-2 h-5 w-5"),te(i,"transform","rotate("+n[2]+"deg)"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(i,"viewBox","0 0 20 20"),d(i,"fill","currentColor"),d(i,"aria-hidden","true"),d(s,"class","inline-flex justify-center rounded-xl w-fit px-2 py-1 text-sm font-medium text-gray-600 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-300"),d(s,"id","menu-button"),d(s,"aria-expanded","true"),d(s,"aria-haspopup","true"),d(e,"class","relative inline-block text-center my-2 mx-8")},m(f,b){j(f,e,b),_(e,t),_(t,s),_(s,r),_(s,l),_(s,i),_(i,o),_(e,a),p&&p.m(e,null),c=!0,g||(u=L(s,"click",n[4]),g=!0)},p(f,[b]){(!c||b&2)&&Ce(r,f[1]),(!c||b&4)&&te(i,"transform","rotate("+f[2]+"deg)"),f[0]?p?(p.p(f,b),b&1&&N(p,1)):(p=qe(f),p.c(),N(p,1),p.m(e,null)):p&&(me(),A(p,1,1,()=>{p=null}),pe())},i(f){c||(N(p),c=!0)},o(f){A(p),c=!1},d(f){f&&h(e),p&&p.d(),g=!1,u()}}}function Ot(n,e,t){let s,{$$slots:r={},$$scope:l}=e,{visible:i=!1}=e,{label:o}=e;const a=ot(0);tt(n,a,u=>t(2,s=u));const c=ge();function g(){t(0,i=!i),i?a.set(180):a.set(0),c("changeVisible",{visible:i})}return n.$$set=u=>{"visible"in u&&t(0,i=u.visible),"label"in u&&t(1,o=u.label),"$$scope"in u&&t(5,l=u.$$scope)},[i,o,s,a,g,l,r]}class We extends W{constructor(e){super(),J(this,e,Ot,Lt,Q,{visible:0,label:1})}}function Mt(n){let e,t=n[0].text+"",s;return{c(){e=y("div"),s=K(t),this.h()},l(r){e=x(r,"DIV",{class:!0,style:!0});var l=k(e);s=X(l,t),l.forEach(h),this.h()},h(){d(e,"class","tag rounded-2xl hover:text-gray-900 hover:ring-2 hover:ring-gray-300 select-none svelte-10leh0s"),te(e,"background-color",n[0].color?n[0].color:"#fff"),te(e,"color",n[0].textColor?n[0].textColor:"#000")},m(r,l){j(r,e,l),_(e,s)},p(r,[l]){l&1&&t!==(t=r[0].text+"")&&Ce(s,t),l&1&&te(e,"background-color",r[0].color?r[0].color:"#fff"),l&1&&te(e,"color",r[0].textColor?r[0].textColor:"#000")},i:M,o:M,d(r){r&&h(e)}}}function Pt(n,e,t){let{tag:s}=e;return n.$$set=r=>{"tag"in r&&t(0,s=r.tag)},[s]}class Ht extends W{constructor(e){super(),J(this,e,Pt,Mt,Q,{tag:0})}}function Je(n,e,t){const s=n.slice();return s[8]=e[t],s}function Qe(n){let e,t,s,r,l,i=n[0],o=[];for(let c=0;c<i.length;c+=1)o[c]=Ge(Je(n,i,c));const a=c=>A(o[c],1,1,()=>{o[c]=null});return{c(){e=y("div");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=x(c,"DIV",{class:!0});var g=k(e);for(let u=0;u<o.length;u+=1)o[u].l(g);g.forEach(h),this.h()},h(){d(e,"class","multiselect svelte-3uj1o4")},m(c,g){j(c,e,g);for(let u=0;u<o.length;u+=1)o[u].m(e,null);s=!0,r||(l=L(e,"click",Ae(n[4])),r=!0)},p(c,g){if(g&11){i=c[0];let u;for(u=0;u<i.length;u+=1){const p=Je(c,i,u);o[u]?(o[u].p(p,g),N(o[u],1)):(o[u]=Ge(p),o[u].c(),N(o[u],1),o[u].m(e,null))}for(me(),u=i.length;u<o.length;u+=1)a(u);pe()}},i(c){if(!s){for(let g=0;g<i.length;g+=1)N(o[g]);ze(()=>{t||(t=fe(e,he,{},!0)),t.run(1)}),s=!0}},o(c){o=o.filter(Boolean);for(let g=0;g<o.length;g+=1)A(o[g]);t||(t=fe(e,he,{},!1)),t.run(0),s=!1},d(c){c&&h(e),st(o,c),c&&t&&t.end(),r=!1,l()}}}function Ge(n){let e,t,s,r,l,i,o,a,c,g,u,p,f;function b(...m){return n[5](n[8],...m)}function D(...m){return n[6](n[8],...m)}return a=new Ht({props:{tag:n[8]}}),{c(){e=y("div"),t=y("input"),i=B(),o=y("label"),P(a.$$.fragment),g=B(),this.h()},l(m){e=x(m,"DIV",{class:!0});var v=k(e);t=x(v,"INPUT",{class:!0,type:!0,id:!0}),i=F(v),o=x(v,"LABEL",{for:!0,class:!0});var w=k(o);H(a.$$.fragment,w),w.forEach(h),g=F(v),v.forEach(h),this.h()},h(){d(t,"class","w-4 h-4 cursor-pointer"),t.value=s=n[8].text,d(t,"type","checkbox"),d(t,"id",r=n[8].text),t.checked=l=n[1].some(b),d(o,"for",c=n[8].text),d(o,"class","cursor-pointer svelte-3uj1o4"),d(e,"class","tag-item svelte-3uj1o4")},m(m,v){j(m,e,v),_(e,t),_(e,i),_(e,o),R(a,o,null),_(e,g),u=!0,p||(f=L(t,"click",D),p=!0)},p(m,v){n=m,(!u||v&1&&s!==(s=n[8].text))&&(t.value=s),(!u||v&1&&r!==(r=n[8].text))&&d(t,"id",r),(!u||v&3&&l!==(l=n[1].some(b)))&&(t.checked=l);const w={};v&1&&(w.tag=n[8]),a.$set(w),(!u||v&1&&c!==(c=n[8].text))&&d(o,"for",c)},i(m){u||(N(a.$$.fragment,m),u=!0)},o(m){A(a.$$.fragment,m),u=!1},d(m){m&&h(e),q(a),p=!1,f()}}}function Rt(n){let e,t,s=n[2]&&Qe(n);return{c(){s&&s.c(),e=de()},l(r){s&&s.l(r),e=de()},m(r,l){s&&s.m(r,l),j(r,e,l),t=!0},p(r,[l]){r[2]?s?(s.p(r,l),l&4&&N(s,1)):(s=Qe(r),s.c(),N(s,1),s.m(e.parentNode,e)):s&&(me(),A(s,1,1,()=>{s=null}),pe())},i(r){t||(N(s),t=!0)},o(r){A(s),t=!1},d(r){s&&s.d(r),r&&h(e)}}}function qt(n,e,t){const s=ge();let{tags:r=[]}=e,{chosenTags:l=[]}=e,{isVisible:i=!1}=e;function o(u,p){const f=p.target,{checked:b}={checked:f.checked};s("handleChosenTag",{tag:u,checked:b})}function a(u){ve.call(this,n,u)}const c=(u,p)=>p.text===u.text,g=(u,p)=>{o(u,p)};return n.$$set=u=>{"tags"in u&&t(0,r=u.tags),"chosenTags"in u&&t(1,l=u.chosenTags),"isVisible"in u&&t(2,i=u.isVisible)},[r,l,i,o,a,c,g]}class Wt extends W{constructor(e){super(),J(this,e,qt,Rt,Q,{tags:0,chosenTags:1,isVisible:2})}}function Ke(n,e,t){const s=n.slice();return s[5]=e[t],s}function Xe(n){let e,t=n[5]+"",s,r,l,i,o;return{c(){e=y("div"),s=K(t),r=B(),this.h()},l(a){e=x(a,"DIV",{class:!0,style:!0});var c=k(e);s=X(c,t),r=F(c),c.forEach(h),this.h()},h(){d(e,"class","option svelte-1ak2w0z"),d(e,"style",l=n[0]&&n[0]==n[5]?"background-color: #64CAA5;":"")},m(a,c){j(a,e,c),_(e,s),_(e,r),i||(o=L(e,"click",n[2]),i=!0)},p(a,c){c&2&&t!==(t=a[5]+"")&&Ce(s,t),c&3&&l!==(l=a[0]&&a[0]==a[5]?"background-color: #64CAA5;":"")&&d(e,"style",l)},d(a){a&&h(e),i=!1,o()}}}function Jt(n){let e,t,s,r=n[1],l=[];for(let i=0;i<r.length;i+=1)l[i]=Xe(Ke(n,r,i));return{c(){e=y("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=x(i,"DIV",{class:!0});var o=k(e);for(let a=0;a<l.length;a+=1)l[a].l(o);o.forEach(h),this.h()},h(){d(e,"class","select select-none svelte-1ak2w0z")},m(i,o){j(i,e,o);for(let a=0;a<l.length;a+=1)l[a].m(e,null);s=!0},p(i,[o]){if(o&7){r=i[1];let a;for(a=0;a<r.length;a+=1){const c=Ke(i,r,a);l[a]?l[a].p(c,o):(l[a]=Xe(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},i(i){s||(ze(()=>{t||(t=fe(e,he,{},!0)),t.run(1)}),s=!0)},o(i){t||(t=fe(e,he,{},!1)),t.run(0),s=!1},d(i){i&&h(e),st(l,i),i&&t&&t.end()}}}function Qt(n,e,t){let{items:s}=e,{chosenItem:r}=e,l;const i=ge(),o=a=>{if(l&&(l.style.backgroundColor="white"),a.target instanceof HTMLElement){if(l=a.target,l.innerText==r){t(0,r=void 0),i("chose",{choseItem:void 0});return}t(0,r=a.target.innerText),a.target.style.backgroundColor="#64CAA5",i("chose",{choseItem:a.target.innerText})}};return n.$$set=a=>{"items"in a&&t(1,s=a.items),"chosenItem"in a&&t(0,r=a.chosenItem)},[r,s,o]}class Gt extends W{constructor(e){super(),J(this,e,Qt,Jt,Q,{items:1,chosenItem:0})}}function Kt(n){let e,t,s,r,l,i,o,a,c,g,u,p,f,b,D,m,v,w,C,S,$;return{c(){e=z("svg"),t=z("g"),s=z("g"),r=z("path"),l=z("g"),i=z("g"),o=z("g"),a=z("g"),c=z("g"),g=z("g"),u=z("g"),p=z("g"),f=z("g"),b=z("g"),D=z("g"),m=z("g"),v=z("g"),w=z("g"),C=z("g"),this.h()},l(I){e=U(I,"svg",{fill:!0,width:!0,height:!0,version:!0,id:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,style:!0,"xml:space":!0});var E=k(e);t=U(E,"g",{});var Y=k(t);s=U(Y,"g",{});var T=k(s);r=U(T,"path",{d:!0}),k(r).forEach(h),T.forEach(h),Y.forEach(h),l=U(E,"g",{});var we=k(l);we.forEach(h),i=U(E,"g",{});var Se=k(i);Se.forEach(h),o=U(E,"g",{});var ke=k(o);ke.forEach(h),a=U(E,"g",{});var V=k(a);V.forEach(h),c=U(E,"g",{});var O=k(c);O.forEach(h),g=U(E,"g",{});var le=k(g);le.forEach(h),u=U(E,"g",{});var ee=k(u);ee.forEach(h),p=U(E,"g",{});var ye=k(p);ye.forEach(h),f=U(E,"g",{});var xe=k(f);xe.forEach(h),b=U(E,"g",{});var Z=k(b);Z.forEach(h),D=U(E,"g",{});var Ie=k(D);Ie.forEach(h),m=U(E,"g",{});var ht=k(m);ht.forEach(h),v=U(E,"g",{});var gt=k(v);gt.forEach(h),w=U(E,"g",{});var mt=k(w);mt.forEach(h),C=U(E,"g",{});var pt=k(C);pt.forEach(h),E.forEach(h),this.h()},h(){d(r,"d",`M286.17,256L505.752,36.418c8.331-8.331,8.331-21.839,0-30.17c-8.331-8.331-21.839-8.331-30.17,0L256,225.83L36.418,6.248\r
			c-8.331-8.331-21.839-8.331-30.17,0c-8.331,8.331-8.331,21.839,0,30.17L225.83,256L6.248,475.582\r
			c-8.331,8.331-8.331,21.839,0,30.17c8.331,8.331,21.839,8.331,30.17,0L256,286.17l219.582,219.582\r
			c8.331,8.331,21.839,8.331,30.17,0c8.331-8.331,8.331-21.839,0-30.17L286.17,256z`),d(e,"fill",n[0]),d(e,"width",n[1]),d(e,"height",n[2]),d(e,"version","1.1"),d(e,"id","Layer_1"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),d(e,"x","0px"),d(e,"y","0px"),d(e,"viewBox","0 0 512 512"),te(e,"enable-background","new 0 0 512 512"),d(e,"xml:space","preserve")},m(I,E){j(I,e,E),_(e,t),_(t,s),_(s,r),_(e,l),_(e,i),_(e,o),_(e,a),_(e,c),_(e,g),_(e,u),_(e,p),_(e,f),_(e,b),_(e,D),_(e,m),_(e,v),_(e,w),_(e,C),S||($=L(e,"click",n[3]),S=!0)},p(I,[E]){E&1&&d(e,"fill",I[0]),E&2&&d(e,"width",I[1]),E&4&&d(e,"height",I[2])},i:M,o:M,d(I){I&&h(e),S=!1,$()}}}function Xt(n,e,t){let{color:s="black"}=e,{width:r="1.3rem"}=e,{height:l="1.3rem"}=e;function i(o){ve.call(this,n,o)}return n.$$set=o=>{"color"in o&&t(0,s=o.color),"width"in o&&t(1,r=o.width),"height"in o&&t(2,l=o.height)},[s,r,l,i]}class Zt extends W{constructor(e){super(),J(this,e,Xt,Kt,Q,{color:0,width:1,height:2})}}function Ze(n){let e,t,s,r,l,i,o,a,c,g,u,p,f,b,D,m,v;return s=new We({props:{label:"Tags",visible:n[2],$$slots:{default:[Yt]},$$scope:{ctx:n}}}),s.$on("changeVisible",n[13]),l=new We({props:{label:"Next",visible:n[3],$$slots:{default:[es]},$$scope:{ctx:n}}}),l.$on("changeVisible",n[14]),o=new Ut({props:{text:"Completed",checked:n[4]}}),o.$on("checked",n[11]),f=new Zt({}),f.$on("click",n[12]),{c(){e=y("div"),t=y("div"),P(s.$$.fragment),r=B(),P(l.$$.fragment),i=B(),P(o.$$.fragment),a=B(),c=y("div"),g=y("input"),u=B(),p=y("div"),P(f.$$.fragment),this.h()},l(w){e=x(w,"DIV",{class:!0});var C=k(e);t=x(C,"DIV",{class:!0});var S=k(t);H(s.$$.fragment,S),r=F(S),H(l.$$.fragment,S),S.forEach(h),i=F(C),H(o.$$.fragment,C),a=F(C),c=x(C,"DIV",{class:!0});var $=k(c);g=x($,"INPUT",{type:!0,placeholder:!0,maxlength:!0,class:!0}),u=F($),p=x($,"DIV",{class:!0});var I=k(p);H(f.$$.fragment,I),I.forEach(h),$.forEach(h),C.forEach(h),this.h()},h(){d(t,"class","md:m-0 my-0.5 mx-auto sm:mx-0"),d(g,"type","text"),d(g,"placeholder","Enter text seach"),d(g,"maxlength","30"),d(g,"class","svelte-ztxw3n"),d(p,"class","cancel svelte-ztxw3n"),d(c,"class","substring-input flex items-center md:ml-0 sm:ml-12 md:my-0 my-0.5 mx-auto svelte-ztxw3n"),d(e,"class","lg:absolute w-full flex flex-wrap border-b border-gray-400 p-1")},m(w,C){j(w,e,C),_(e,t),R(s,t,null),_(t,r),R(l,t,null),_(e,i),R(o,e,null),_(e,a),_(e,c),_(c,g),Pe(g,n[1]),_(c,u),_(c,p),R(f,p,null),D=!0,m||(v=L(g,"input",n[15]),m=!0)},p(w,C){const S={};C&4&&(S.visible=w[2]),C&524384&&(S.$$scope={dirty:C,ctx:w}),s.$set(S);const $={};C&8&&($.visible=w[3]),C&524416&&($.$$scope={dirty:C,ctx:w}),l.$set($);const I={};C&16&&(I.checked=w[4]),o.$set(I),C&2&&g.value!==w[1]&&Pe(g,w[1])},i(w){D||(N(s.$$.fragment,w),N(l.$$.fragment,w),N(o.$$.fragment,w),N(f.$$.fragment,w),ze(()=>{b||(b=fe(e,he,{},!0)),b.run(1)}),D=!0)},o(w){A(s.$$.fragment,w),A(l.$$.fragment,w),A(o.$$.fragment,w),A(f.$$.fragment,w),b||(b=fe(e,he,{},!1)),b.run(0),D=!1},d(w){w&&h(e),q(s),q(l),q(o),q(f),w&&b&&b.end(),m=!1,v()}}}function Yt(n){let e,t;return e=new Wt({props:{isVisible:!0,tags:n[5],chosenTags:n[6]}}),e.$on("handleChosenTag",n[9]),{c(){P(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const l={};r&32&&(l.tags=s[5]),r&64&&(l.chosenTags=s[6]),e.$set(l)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){A(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function es(n){let e,t;return e=new Gt({props:{items:Array.from(n[8].keys()),chosenItem:n[7]}}),e.$on("chose",n[10]),{c(){P(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){const l={};r&128&&(l.chosenItem=s[7]),e.$set(l)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){A(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function ts(n){let e,t,s=n[0]&&Ze(n);return{c(){s&&s.c(),e=de()},l(r){s&&s.l(r),e=de()},m(r,l){s&&s.m(r,l),j(r,e,l),t=!0},p(r,[l]){r[0]?s?(s.p(r,l),l&1&&N(s,1)):(s=Ze(r),s.c(),N(s,1),s.m(e.parentNode,e)):s&&(me(),A(s,1,1,()=>{s=null}),pe())},i(r){t||(N(s),t=!0)},o(r){A(s),t=!1},d(r){s&&s.d(r),r&&h(e)}}}function ss(n,e,t){let{isActive:s=!1}=e;const r=ge();let l=!1,i=!1,o,a,c=[],g=[],u,p;const f=new Map([["30 minutes",1800],["hour",3600],["day",86400],["week",2592e3],["mounth",94608e4]]),b=()=>{const I={tags:g,till:u,text:o,completed:a};console.log(I),r("filter",I)},D=I=>{I.detail.checked?t(6,g=[...g,I.detail.tag]):t(6,g=g.filter(E=>E.text!=I.detail.tag.text)),b()},m=I=>{if(I.detail.choseItem!=null){t(7,p=I.detail.choseItem);const E=Date.now()+f.get(p)*1e3;u=it.fromDate(new Date(E))}else u=void 0;console.log(f.get(p)),b()},v=I=>{t(4,a=I.detail.checked),b()},w=()=>{t(4,a=void 0),u=void 0,t(7,p=void 0),t(1,o=void 0),t(6,g=[]),t(3,i=!1),t(2,l=!1),b()},C=I=>{t(2,l=I.detail.visible)},S=I=>{t(3,i=I.detail.visible)};function $(){o=this.value,t(1,o)}return n.$$set=I=>{"isActive"in I&&t(0,s=I.isActive)},n.$$.update=()=>{n.$$.dirty&1&&_e().then(I=>{t(5,c=I.tags)}),n.$$.dirty&2&&((o==null?void 0:o.trim().length)===0&&t(1,o=void 0),b())},[s,o,l,i,a,c,g,p,f,D,m,v,w,C,S,$]}class ns extends W{constructor(e){super(),J(this,e,ss,ts,Q,{isActive:0})}}function rs(n){let e,t,s,r;return{c(){e=y("button"),t=K("Save"),this.h()},l(l){e=x(l,"BUTTON",{class:!0});var i=k(e);t=X(i,"Save"),i.forEach(h),this.h()},h(){d(e,"class","svelte-1xym1je")},m(l,i){j(l,e,i),_(e,t),s||(r=L(e,"click",n[0]),s=!0)},p:M,i:M,o:M,d(l){l&&h(e),s=!1,r()}}}function ls(n){function e(t){ve.call(this,n,t)}return[e]}class ft extends W{constructor(e){super(),J(this,e,ls,rs,Q,{})}}function is(n){let e,t,s,r;return{c(){e=y("button"),t=K("Cancel"),this.h()},l(l){e=x(l,"BUTTON",{class:!0});var i=k(e);t=X(i,"Cancel"),i.forEach(h),this.h()},h(){d(e,"class","svelte-1r4wap5")},m(l,i){j(l,e,i),_(e,t),s||(r=L(e,"click",n[0]),s=!0)},p:M,i:M,o:M,d(l){l&&h(e),s=!1,r()}}}function os(n){function e(t){ve.call(this,n,t)}return[e]}class dt extends W{constructor(e){super(),J(this,e,os,is,Q,{})}}function as(n){let e,t,s,r,l,i;return{c(){e=y("input"),t=B(),s=y("label"),r=K("Toggle"),this.h()},l(o){e=x(o,"INPUT",{type:!0,id:!0,class:!0}),t=F(o),s=x(o,"LABEL",{for:!0,class:!0});var a=k(s);r=X(a,"Toggle"),a.forEach(h),this.h()},h(){e.checked=n[0],d(e,"type","checkbox"),d(e,"id","switch"),d(e,"class","svelte-pv61jy"),d(s,"for","switch"),d(s,"class","svelte-pv61jy")},m(o,a){j(o,e,a),j(o,t,a),j(o,s,a),_(s,r),l||(i=L(e,"change",n[1]),l=!0)},p(o,[a]){a&1&&(e.checked=o[0])},i:M,o:M,d(o){o&&h(e),o&&h(t),o&&h(s),l=!1,i()}}}function cs(n,e,t){let{checked:s=!1}=e;function r(l){ve.call(this,n,l)}return n.$$set=l=>{"checked"in l&&t(0,s=l.checked)},[s,r]}class us extends W{constructor(e){super(),J(this,e,cs,as,Q,{checked:0})}}const Ne="https://a321-188-130-155-167.eu.ngrok.io/";async function Ps(n){const e=await be();if(e){const t={token:parseInt(e,10),id:n};await fetch(`${Ne}webhooks/deleteSchedule/`,{method:"DELETE",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}}async function fs(n,e,t){const s=await be();if(s){const l={time:n,taskID:e,description:t,token:parseInt(s,10)};await fetch(`${Ne}webhooks/schedule/`,{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}})}}const ds=async n=>{if(!(await fetch(`${Ne}webhooks/verifyToken/${n}/`)).ok)throw Error("Invalid token");await ut(n),(await At()).forEach(s=>{if(s.date&&s.docId){const r=new Date(s.date.seconds*1e3).toISOString();fs(r,s.docId,s.text)}})},hs=async()=>{const n=await be();await fetch(`${Ne}webhooks/unlinkTelegram/${n}`)};function Ye(n){let e,t,s,r,l,i,o,a,c,g,u,p;const f=[ms,gs],b=[];function D(m,v){return m[2]?1:0}return a=D(n),c=b[a]=f[a](n),{c(){e=y("div"),t=y("div"),s=y("div"),r=y("p"),l=K("Notifications"),i=B(),o=y("div"),c.c(),this.h()},l(m){e=x(m,"DIV",{class:!0});var v=k(e);t=x(v,"DIV",{class:!0});var w=k(t);s=x(w,"DIV",{class:!0});var C=k(s);r=x(C,"P",{});var S=k(r);l=X(S,"Notifications"),S.forEach(h),C.forEach(h),i=F(w),o=x(w,"DIV",{class:!0});var $=k(o);c.l($),$.forEach(h),w.forEach(h),v.forEach(h),this.h()},h(){d(s,"class","label svelte-1xlnx46"),d(o,"class","body mt-8 svelte-1xlnx46"),d(t,"class","container select-none svelte-1xlnx46"),d(e,"class","back svelte-1xlnx46")},m(m,v){j(m,e,v),_(e,t),_(t,s),_(s,r),_(r,l),_(t,i),_(t,o),b[a].m(o,null),g=!0,u||(p=[L(t,"click",Ae(n[9])),L(e,"click",Ae(n[5]))],u=!0)},p(m,v){let w=a;a=D(m),a===w?b[a].p(m,v):(me(),A(b[w],1,1,()=>{b[w]=null}),pe(),c=b[a],c?c.p(m,v):(c=b[a]=f[a](m),c.c()),N(c,1),c.m(o,null))},i(m){g||(N(c),g=!0)},o(m){A(c),g=!1},d(m){m&&h(e),b[a].d(),u=!1,$e(p)}}}function gs(n){let e,t,s,r,l,i,o,a,c,g;function u(m,v){return m[3]?vs:ps}let p=u(n),f=p(n);function b(m){n[11](m)}let D={};return n[3]!==void 0&&(D.checked=n[3]),s=new us({props:D}),ue.push(()=>nt(s,"checked",b)),s.$on("change",n[12]),o=new ft({}),o.$on("click",n[8]),c=new dt({}),c.$on("click",n[6]),{c(){e=y("div"),f.c(),t=B(),P(s.$$.fragment),l=B(),i=y("div"),P(o.$$.fragment),a=B(),P(c.$$.fragment),this.h()},l(m){e=x(m,"DIV",{class:!0});var v=k(e);f.l(v),t=F(v),H(s.$$.fragment,v),v.forEach(h),l=F(m),i=x(m,"DIV",{class:!0});var w=k(i);H(o.$$.fragment,w),a=F(w),H(c.$$.fragment,w),w.forEach(h),this.h()},h(){d(e,"class","notification-status svelte-1xlnx46"),d(i,"class","buttons svelte-1xlnx46")},m(m,v){j(m,e,v),f.m(e,null),_(e,t),R(s,e,null),j(m,l,v),j(m,i,v),R(o,i,null),_(i,a),R(c,i,null),g=!0},p(m,v){p!==(p=u(m))&&(f.d(1),f=p(m),f&&(f.c(),f.m(e,t)));const w={};!r&&v&8&&(r=!0,w.checked=m[3],rt(()=>r=!1)),s.$set(w)},i(m){g||(N(s.$$.fragment,m),N(o.$$.fragment,m),N(c.$$.fragment,m),g=!0)},o(m){A(s.$$.fragment,m),A(o.$$.fragment,m),A(c.$$.fragment,m),g=!1},d(m){m&&h(e),f.d(),q(s),m&&h(l),m&&h(i),q(o),q(c)}}}function ms(n){let e,t,s,r,l,i,o,a,c,g,u,p;return o=new ft({}),o.$on("click",n[7]),c=new dt({}),c.$on("click",n[6]),{c(){e=y("img"),s=B(),r=y("input"),l=B(),i=y("div"),P(o.$$.fragment),a=B(),P(c.$$.fragment),this.h()},l(f){e=x(f,"IMG",{class:!0,src:!0,alt:!0}),s=F(f),r=x(f,"INPUT",{type:!0,placeholder:!0,class:!0}),l=F(f),i=x(f,"DIV",{class:!0});var b=k(i);H(o.$$.fragment,b),a=F(b),H(c.$$.fragment,b),b.forEach(h),this.h()},h(){d(e,"class","pulse cursor-pointer mt-3 mb-3 svelte-1xlnx46"),xt(e.src,t="images/tg-bot.svg")||d(e,"src",t),d(e,"alt","tg-bot"),d(r,"type","text"),d(r,"placeholder","Enter code"),d(r,"class","svelte-1xlnx46"),d(i,"class","buttons svelte-1xlnx46")},m(f,b){j(f,e,b),j(f,s,b),j(f,r,b),n[10](r),j(f,l,b),j(f,i,b),R(o,i,null),_(i,a),R(c,i,null),g=!0,u||(p=L(e,"click",n[4]),u=!0)},p:M,i(f){g||(N(o.$$.fragment,f),N(c.$$.fragment,f),g=!0)},o(f){A(o.$$.fragment,f),A(c.$$.fragment,f),g=!1},d(f){f&&h(e),f&&h(s),f&&h(r),n[10](null),f&&h(l),f&&h(i),q(o),q(c),u=!1,p()}}}function ps(n){let e;return{c(){e=K("Notification will be disabled")},l(t){e=X(t,"Notification will be disabled")},m(t,s){j(t,e,s)},d(t){t&&h(e)}}}function vs(n){let e;return{c(){e=K("Notification enabled")},l(t){e=X(t,"Notification enabled")},m(t,s){j(t,e,s)},d(t){t&&h(e)}}}function _s(n){let e,t,s=n[0]&&Ye(n);return{c(){s&&s.c(),e=de()},l(r){s&&s.l(r),e=de()},m(r,l){s&&s.m(r,l),j(r,e,l),t=!0},p(r,[l]){r[0]?s?(s.p(r,l),l&1&&N(s,1)):(s=Ye(r),s.c(),N(s,1),s.m(e.parentNode,e)):s&&(me(),A(s,1,1,()=>{s=null}),pe())},i(r){t||(N(s),t=!0)},o(r){A(s),t=!1},d(r){s&&s.d(r),r&&h(e)}}}const bs="https://t.me/inno_frontend_bot";function ws(n,e,t){let{isVisible:s=!1}=e,r,l=!1,i=!0;const o=()=>{be().then(v=>{v===void 0?(t(3,i=!1),t(2,l=!1),Be.set(!1)):(t(3,i=!0),t(2,l=!0),Be.set(!0))})},a=()=>{window.open(bs,"_blank").focus()},c=()=>{t(0,s=!1)},g=()=>{t(0,s=!1),r&&t(1,r.value="",r)},u=async()=>{if(!r.value){r.focus();return}try{ds(r.value),t(0,s=!1)}catch{t(1,r.value="",r),t(1,r.placeholder="Wrong token",r)}},p=async()=>{i||(await hs(),await ut(void 0)),t(0,s=!1)};function f(v){ve.call(this,n,v)}function b(v){ue[v?"unshift":"push"](()=>{r=v,t(1,r)})}function D(v){i=v,t(3,i)}const m=()=>t(3,i=!i);return n.$$set=v=>{"isVisible"in v&&t(0,s=v.isVisible)},n.$$.update=()=>{n.$$.dirty&1&&o()},[s,r,l,i,a,c,g,u,p,f,b,D,m]}class ks extends W{constructor(e){super(),J(this,e,ws,_s,Q,{isVisible:0})}}function ys(n){let e,t,s,r,l,i,o,a,c,g,u,p,f,b,D,m,v,w,C,S,$,I,E,Y,T,we;function Se(V){n[17](V)}let ke={};return n[6]!==void 0&&(ke.isVisible=n[6]),S=new ks({props:ke}),ue.push(()=>nt(S,"isVisible",Se)),E=new ns({props:{isActive:n[1]}}),E.$on("filter",n[18]),{c(){e=y("nav"),t=y("div"),s=y("div"),r=y("div"),l=B(),i=y("span"),o=K("ABRICOS"),a=B(),c=y("div"),g=y("div"),u=y("div"),p=B(),f=y("div"),b=B(),D=y("div"),m=B(),v=y("div"),w=B(),C=y("div"),P(S.$$.fragment),I=B(),P(E.$$.fragment),this.h()},l(V){e=x(V,"NAV",{class:!0});var O=k(e);t=x(O,"DIV",{class:!0});var le=k(t);s=x(le,"DIV",{class:!0});var ee=k(s);r=x(ee,"DIV",{class:!0}),k(r).forEach(h),l=F(ee),i=x(ee,"SPAN",{class:!0});var ye=k(i);o=X(ye,"ABRICOS"),ye.forEach(h),ee.forEach(h),le.forEach(h),a=F(O),c=x(O,"DIV",{class:!0});var xe=k(c);g=x(xe,"DIV",{class:!0});var Z=k(g);u=x(Z,"DIV",{class:!0,id:!0,style:!0}),k(u).forEach(h),p=F(Z),f=x(Z,"DIV",{class:!0,id:!0}),k(f).forEach(h),b=F(Z),D=x(Z,"DIV",{class:!0,id:!0}),k(D).forEach(h),m=F(Z),v=x(Z,"DIV",{class:!0}),k(v).forEach(h),Z.forEach(h),xe.forEach(h),O.forEach(h),w=F(V),C=x(V,"DIV",{class:!0});var Ie=k(C);H(S.$$.fragment,Ie),Ie.forEach(h),I=F(V),H(E.$$.fragment,V),this.h()},h(){d(r,"class","logo__img svelte-iu970a"),Ee(r,"spinner",n[3]==!0),d(i,"class","logo__text select-none svelte-iu970a"),d(s,"class","logo cursor-pointer svelte-iu970a"),d(t,"class","nav__el left svelte-iu970a"),d(u,"class","menu__el cursor-pointer svelte-iu970a"),d(u,"id","filter"),te(u,"transform","rotate("+n[7]+"deg)"),Ee(u,"reverse-spinner",n[2]==!0),d(f,"class","menu__el cursor-pointer svelte-iu970a"),d(f,"id","notification"),d(D,"class","menu__el cursor-pointer svelte-iu970a"),d(D,"id","logout"),d(v,"class","user-logo cursor-pointer svelte-iu970a"),d(g,"class","menu svelte-iu970a"),d(c,"class","nav__el right svelte-iu970a"),d(e,"class","p-3 svelte-iu970a"),d(C,"class","notification-container")},m(V,O){j(V,e,O),_(e,t),_(t,s),_(s,r),_(s,l),_(s,i),_(i,o),_(e,a),_(e,c),_(c,g),_(g,u),n[14](u),_(g,p),_(g,f),n[15](f),_(g,b),_(g,D),_(g,m),_(g,v),n[16](v),j(V,w,O),j(V,C,O),R(S,C,null),j(V,I,O),R(E,V,O),Y=!0,T||(we=[L(s,"click",n[11]),L(u,"click",n[10]),L(f,"click",n[12]),L(D,"click",n[13]),L(v,"click",xs)],T=!0)},p(V,[O]){O&8&&Ee(r,"spinner",V[3]==!0),(!Y||O&128)&&te(u,"transform","rotate("+V[7]+"deg)"),O&4&&Ee(u,"reverse-spinner",V[2]==!0);const le={};!$&&O&64&&($=!0,le.isVisible=V[6],rt(()=>$=!1)),S.$set(le);const ee={};O&2&&(ee.isActive=V[1]),E.$set(ee)},i(V){Y||(N(S.$$.fragment,V),N(E.$$.fragment,V),Y=!0)},o(V){A(S.$$.fragment,V),A(E.$$.fragment,V),Y=!1},d(V){V&&h(e),n[14](null),n[15](null),n[16](null),V&&h(w),V&&h(C),q(S),V&&h(I),q(E,V),T=!1,$e(we)}}}function xs(){var n=window.location.pathname;n!="/profile"&&(window.location.href="/profile")}function Is(n,e,t){let s;const r=ot(180);tt(n,r,T=>t(7,s=T));const l=ge();let i,o=!1,a=!1,c=!1,g=window.location.pathname=="/",u,p,f=!1;It(async()=>{await b();let T=await Ft();He.set(T)}),Be.subscribe(()=>b()),ce.subscribe(T=>{T=="folder"&&(t(1,o=!1),r.set(180))});function b(){be().then(T=>{w(T===void 0?"off":"on")})}function D(){var T=window.location.pathname;if(T!="/"){i&&(t(2,c=!0),setTimeout(()=>t(2,c=!1),300));return}t(1,o=!o),o?(r.set(0),a=!1,ce.set("filter")):(r.set(180),ce.set(""))}function m(){Et(ce)==="folder"&&(a=!0),a=!a,a?ce.set("folder"):ce.set("");var T=window.location.pathname;T!="/"?window.location.href="/":t(3,g=!1)}function v(){b(),t(6,f=!f)}function w(T){p&&t(5,p.style.background=`url('images/notification-${T}.svg') no-repeat center / cover`,p)}async function C(){await Tt(),window.location.href="/login"}He.subscribe(T=>{u&&t(4,u.style.background=`url('${T}') no-repeat center / cover`,u)});function S(T){ue[T?"unshift":"push"](()=>{i=T,t(0,i)})}function $(T){ue[T?"unshift":"push"](()=>{p=T,t(5,p)})}function I(T){ue[T?"unshift":"push"](()=>{u=T,t(4,u)})}function E(T){f=T,t(6,f)}return[i,o,c,g,u,p,f,s,r,l,D,m,v,C,S,$,I,E,T=>l("filter",T.detail)]}class Hs extends W{constructor(e){super(),J(this,e,Is,ys,Q,{})}}export{dt as C,Wt as M,Hs as N,ft as S,Ht as T,Ps as a,js as b,Bs as c,ct as d,St as e,Ts as f,_e as g,he as h,Ns as i,zs as j,Fs as k,$s as l,Os as m,As as n,ce as o,Ss as p,Ft as q,Vs as r,fs as s,Ls as t,Nt as u,Us as v,He as w,Ms as x};
